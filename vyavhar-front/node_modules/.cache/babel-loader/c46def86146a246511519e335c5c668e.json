{"ast":null,"code":"import _asyncToGenerator from\"/media/utkarsh/Utkarsh/Utkarsh/Utkarsh's docs/My work/JS/MERN/vyavhar/vyavhar-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/media/utkarsh/Utkarsh/Utkarsh/Utkarsh's docs/My work/JS/MERN/vyavhar/vyavhar-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/media/utkarsh/Utkarsh/Utkarsh/Utkarsh's docs/My work/JS/MERN/vyavhar/vyavhar-front/node_modules/@babel/runtime/regenerator/index.js\";import{React,useState,useEffect,useContext}from'react';import'./feeds.css';import Share from'../share/Share';import{AuthContext}from'../../context/AuthContext';import Post from'../post/Post';import axios from'axios';// import { Posts } from '../../dummy_data' \nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Feeds(_ref){var username=_ref.username;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useContext=useContext(AuthContext),user=_useContext.user;// fetching post of a user , either it can be profile or main timeline of logged in user\nuseEffect(function(){var fetchPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!username){_context.next=6;break;}_context.next=3;return axios.get(\"/posts/profile/\"+username);case 3:_context.t0=_context.sent;_context.next=9;break;case 6:_context.next=8;return axios.get(\"/posts/timeline/\"+user._id);case 8:_context.t0=_context.sent;case 9:res=_context.t0;setPost(res.data.sort(function(p1,p2){return new Date(p2.createdAt)-new Date(p1.createdAt);}));case 11:case\"end\":return _context.stop();}}},_callee);}));return function fetchPosts(){return _ref2.apply(this,arguments);};}();fetchPosts();},[username,user._id]);return/*#__PURE__*/_jsx(\"div\",{className:\"feeds\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"feedWrapper\",children:[(!username||username===user.username)&&/*#__PURE__*/_jsx(Share,{}),post.map(function(p){return/*#__PURE__*/_jsx(Post,{post:p},p._id);})]})});}","map":{"version":3,"sources":["/media/utkarsh/Utkarsh/Utkarsh/Utkarsh's docs/My work/JS/MERN/vyavhar/vyavhar-front/src/components/feeds/Feeds.jsx"],"names":["React","useState","useEffect","useContext","Share","AuthContext","Post","axios","Feeds","username","post","setPost","user","fetchPosts","get","_id","res","data","sort","p1","p2","Date","createdAt","map","p"],"mappings":"8fAAA,OAASA,KAAT,CAAgBC,QAAhB,CAA2BC,SAA3B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,OAASC,WAAT,KAA4B,2BAA5B,CAEA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA;wFAEA,cAAe,SAASC,CAAAA,KAAT,MAA2B,IAAXC,CAAAA,QAAW,MAAXA,QAAW,CACzC,cAAuBR,QAAQ,CAAC,EAAD,CAA/B,wCAAOS,IAAP,eAAYC,OAAZ,eACA,gBAAgBR,UAAU,CAACE,WAAD,CAA1B,CAAQO,IAAR,aAAQA,IAAR,CACA;AACAV,SAAS,CAAC,UAAM,CACf,GAAMW,CAAAA,UAAU,2FAAG,+IACNJ,QADM,+CAEVF,CAAAA,KAAK,CAACO,GAAN,CAAU,kBAAkBL,QAA5B,CAFU,qFAGVF,CAAAA,KAAK,CAACO,GAAN,CAAU,mBAAmBF,IAAI,CAACG,GAAlC,CAHU,yCACZC,GADY,aAIlBL,OAAO,CACFK,GAAG,CAACC,IAAJ,CAASC,IAAT,CAAc,SAACC,EAAD,CAAKC,EAAL,CAAY,CACxB,MAAO,IAAIC,CAAAA,IAAJ,CAASD,EAAE,CAACE,SAAZ,EAAyB,GAAID,CAAAA,IAAJ,CAASF,EAAE,CAACG,SAAZ,CAAhC,CACD,CAFD,CADE,CAAP,CAJkB,uDAAH,kBAAVT,CAAAA,UAAU,2CAAhB,CASAA,UAAU,GACV,CAXQ,CAWP,CAACJ,QAAD,CAAUG,IAAI,CAACG,GAAf,CAXO,CAAT,CAeA,mBACC,YAAK,SAAS,CAAC,OAAf,uBACC,aAAM,SAAS,CAAC,aAAhB,WACE,CAAC,CAACN,QAAD,EAAaA,QAAQ,GAAKG,IAAI,CAACH,QAAhC,gBAA6C,KAAC,KAAD,IAD/C,CAEEC,IAAI,CAACa,GAAL,CAAS,SAACC,CAAD,qBACT,KAAC,IAAD,EAAkB,IAAI,CAAEA,CAAxB,EAAWA,CAAC,CAACT,GAAb,CADS,EAAT,CAFF,GADD,EADD,CAWA","sourcesContent":["import { React, useState , useEffect,useContext } from 'react'\nimport './feeds.css'\nimport Share from '../share/Share'\nimport { AuthContext } from '../../context/AuthContext'\n\nimport Post from '../post/Post'\nimport axios from 'axios'\n// import { Posts } from '../../dummy_data' \n\nexport default function Feeds({username}) {\n\tconst [post,setPost] = useState([]); \n\tconst { user }= useContext(AuthContext)\n\t// fetching post of a user , either it can be profile or main timeline of logged in user\n\tuseEffect(() => {\n\t\tconst fetchPosts = async () => {\n\t\t\tconst res = username \n\t\t\t? await axios.get(\"/posts/profile/\"+username)\n\t\t\t: await axios.get(\"/posts/timeline/\"+user._id);\n\t\t\tsetPost(\n        res.data.sort((p1, p2) => {\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\n        }))\n\t\t}\n\t\tfetchPosts();\n\t},[username,user._id])\n\n\t\n\n\treturn (\n\t\t<div className='feeds'>\n\t\t\t< div className='feedWrapper'>\n\t\t\t\t{(!username || username === user.username) && <Share />}\n\t\t\t\t{post.map((p) => (\n\t\t\t\t\t<Post key={p._id} post={p} />\n\t\t\t\t))}\n\t\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t)\n}"]},"metadata":{},"sourceType":"module"}